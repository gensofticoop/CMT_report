<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="r_wc_wcreqdeposit_by_member_approval" language="groovy" pageWidth="838" pageHeight="595" orientation="Landscape" columnWidth="798" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="7dc76156-820c-4c99-83b2-d176b99f78ac">
	<property name="ireport.zoom" value="1.3310000000000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Data" uuid="e4e91b08-114d-40c8-9609-2df25f951908">
		<parameter name="start_date" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="end_date" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="as_wcid" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="as_coopid" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select
req.member_no --เลขทะเบียนสหกรณ์
, req.deptaccount_no --เลขทะเบียนสมาชิก
, (pre.prename_desc) || TRIM(mb.memb_name) || ' ' || TRIM(mb.memb_surname) AS "MEMBER_NAME"
, mbg.membgroup_desc
, dt.district_desc
, pv.province_desc
, req.approve_date --วันที่อนุมัติสมาชิก
, req.deptopen_date --วันที่สมาชิกภาพสมบูรณ์
--เงื่อนไขการโอนเงิน ตัดออก
from wcreqdeposit req
join mbmembmaster mb on mb.member_no = req.member_no
left join mbucfprename pre on mb.prename_code = pre.prename_code
left join mbucfmembgroup mbg on mbg.membgroup_code = mb.membgroup_code
left join mbucfdistrict dt on dt.district_code = mbg.district_code
left join mbucfprovince pv on pv.province_code = mbg.province_code
where req.approve_date between to_date($P{start_date}, 'YYYYMMDD') and to_date($P{end_date}, 'YYYYMMDD')
and req.coop_id = $P{as_coopid}
and req.wc_id = $P{as_wcid}
and req.approve_status = 1
order by req.deptaccount_no]]>
		</queryString>
		<field name="MEMBER_NO" class="java.lang.String"/>
		<field name="DEPTACCOUNT_NO" class="java.lang.String"/>
		<field name="MEMBER_NAME" class="java.lang.String"/>
		<field name="MEMBGROUP_DESC" class="java.lang.String"/>
		<field name="DISTRICT_DESC" class="java.lang.String"/>
		<field name="PROVINCE_DESC" class="java.lang.String"/>
		<field name="APPROVE_DATE" class="java.sql.Timestamp"/>
		<field name="DEPTOPEN_DATE" class="java.sql.Timestamp"/>
	</subDataset>
	<parameter name="start_date" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="end_date" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_wcid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_coopid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select dummy from dual]]>
	</queryString>
	<field name="DUMMY" class="java.lang.String"/>
	<pageHeader>
		<band height="65">
			<textField>
				<reportElement uuid="28844741-3713-4ea7-9a49-a7fb1c0137c8" x="0" y="0" width="798" height="65"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="18"/>
				</textElement>
				<textFieldExpression><![CDATA["สมาคมฌาปนกิจสงเคราะห์สมาชิกสหกรณ์องค์กรปกครองส่วนท้องถิ่น\n" +
"รายงานรายชื่อสมาชิกรออนุมัติ\n" +
"ตั้งแต่วันที่ " +
new SimpleDateFormat("dd/MM/").format(new SimpleDateFormat("yyyyMMdd").parse($P{start_date})) +
(Integer.parseInt(new SimpleDateFormat("yyyy").format(new SimpleDateFormat("yyyyMMdd").parse($P{start_date}))) + 543) +
" ถึงวันที่ " +
new SimpleDateFormat("dd/MM/").format(new SimpleDateFormat("yyyyMMdd").parse($P{end_date})) +
(Integer.parseInt(new SimpleDateFormat("yyyy").format(new SimpleDateFormat("yyyyMMdd").parse($P{end_date}))) + 543)]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="78d4d36c-bec7-4ce9-996f-0d237fcecc49" x="721" y="0" width="77" height="20"/>
				<textElement textAlignment="Right">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA["หน้า " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="64" splitType="Stretch">
			<componentElement>
				<reportElement uuid="79ab9b48-6e9c-47bd-8f7a-82a99d7450c6" key="table 1" style="table_TD" x="0" y="0" width="798" height="64"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Data" uuid="ffa82c23-16a5-45da-acff-97fe0ea27fc4">
						<datasetParameter name="start_date">
							<datasetParameterExpression><![CDATA[$P{start_date}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="end_date">
							<datasetParameterExpression><![CDATA[$P{end_date}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="as_wcid">
							<datasetParameterExpression><![CDATA[$P{as_wcid}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="as_coopid">
							<datasetParameterExpression><![CDATA[$P{as_coopid}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="35" uuid="87d2f47e-35e9-4123-bf88-fdc7080d7265">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="01a36dab-54c8-4a30-8269-d3321c2145d6" style="table_TD" mode="Opaque" x="0" y="0" width="35" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[ลำดับ]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="8496e320-a70f-4c93-b9e9-60b5d7101ed3" style="table_TD" x="0" y="0" width="35" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="60" uuid="b88d9e92-283a-4909-93c0-6955f1377385">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="a2a6bc95-47a7-4c9a-924e-3295f8125208" style="table_TD" x="0" y="0" width="60" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[ทะเบียน
สหกรณ์]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="cbaa2d68-fddd-4c1d-baee-876d7d07103c" x="0" y="0" width="60" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{MEMBER_NO}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="60" uuid="1fe6770a-bee5-400a-a7f6-fb54a2a76ab0">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="af2b6b67-1d1f-45c9-81e6-79c4ae1fb672" style="table_TD" x="0" y="0" width="60" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[ทะเบียน
สมาชิก]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="0f7f9428-23ac-4d14-a059-85d3d044f509" x="0" y="0" width="60" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DEPTACCOUNT_NO}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="134" uuid="a32899b3-7916-4d0b-98bd-127ee413d333">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="c966370b-bc5b-40b0-a2c7-a6e02f105e9f" style="table_TD" x="0" y="0" width="134" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[ชื่อ นามสกุล]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="9d1084b7-8937-49ed-981e-d624f7b59445" x="0" y="0" width="134" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
									<paragraph firstLineIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{MEMBER_NAME}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="149" uuid="5656b0b3-d71a-45c8-832b-3f103f543050">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="98058dc7-58bd-4427-8245-830ff1d7899c" style="table_TD" x="0" y="0" width="149" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[หน่วยงาน]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="5dd16210-f3f4-4880-b047-6aae0f12c43b" x="0" y="0" width="149" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
									<paragraph firstLineIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{MEMBGROUP_DESC}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="ddb187d2-f976-445b-a905-771dff1fc3b8">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="d8f8f55a-e968-41de-97b1-8a7b3bb21de3" style="table_TD" x="0" y="0" width="90" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[อำเภอ]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="3e62ecbf-5878-4ac4-994c-35326583d9ad" x="0" y="0" width="90" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
									<paragraph firstLineIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DISTRICT_DESC}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="4f2cc069-eba9-43d8-991b-50339cb4938c">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="07882933-e777-42c5-9611-42b711fd6883" style="table_TD" x="0" y="0" width="90" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[จังหวัด]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="fec59025-afb2-4ce2-aa1b-2177fe843d78" x="0" y="0" width="90" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
									<paragraph firstLineIndent="3"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{PROVINCE_DESC}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="c93ae164-9772-4b69-92bc-26b33e31004a">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="190953d2-4b33-4107-812b-63a722d0e2d5" style="table_TD" x="0" y="0" width="90" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Top">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[วันที่อนุมัติ
สมาชิก]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="6b9de7e5-f0fc-4572-982a-0719fac54b34" x="0" y="0" width="90" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/").format($F{APPROVE_DATE}) + (new Integer(new SimpleDateFormat("yyyy").format($F{APPROVE_DATE})) + 543)]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="46943e92-8add-4f8e-a39e-b81878165763">
						<jr:columnHeader style="table 1_CH" height="36" rowSpan="1">
							<staticText>
								<reportElement uuid="f4fc5de6-464f-489f-8551-e84c3ab5f02f" style="table_TD" x="0" y="0" width="90" height="36"/>
								<box>
									<topPen lineWidth="1.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="1.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<text><![CDATA[วันที่สมาชิก
สภาพสมบูรณ์]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="20" rowSpan="1">
							<textField>
								<reportElement uuid="773f190b-701c-4deb-92a4-115d4709afea" x="0" y="0" width="90" height="20"/>
								<box>
									<pen lineWidth="0.25"/>
									<topPen lineWidth="0.25"/>
									<leftPen lineWidth="0.25"/>
									<bottomPen lineWidth="0.25"/>
									<rightPen lineWidth="0.25"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Angsana New" size="14"/>
								</textElement>
								<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/").format($F{DEPTOPEN_DATE}) + (new Integer(new SimpleDateFormat("yyyy").format($F{DEPTOPEN_DATE})) + 543)]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="0" uuid="fc9cf294-98fd-44d0-990d-676cef675aed">
						<jr:detailCell style="table_TD" height="20" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
</jasperReport>
