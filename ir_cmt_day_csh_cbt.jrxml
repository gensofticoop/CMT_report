<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ir_cmt_day_csh_cbt" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="541eae3e-39cc-45f4-abed-5ca00d30fb90">
	<property name="ireport.zoom" value="1.6105100000000008"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="as_coopid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="adtm_date" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_entryid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_reportid" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="as_reportdetail" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\SCOSPA_ALL\\iReport\\report_header\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
item_desc,
cash_begin,
recv_item_amt,
pay_item_amt,
balance
from(
select
'เงินสด' as item_desc,
cash_begin,
cash_in as recv_item_amt,
cash_out as pay_item_amt,
cash_amt as balance
from
fincashflowmas
where
coop_id = $P{as_coopid}
and operate_date = $P{adtm_date}
union
select
b.account_name,
nvl(min(m.balance_begin) keep (dense_rank first order by m.seq_no),0) as balance_begin,
sum(case when m.sign_operate = 1 then m.item_amt else 0 end) as recv_item_amt,
sum(case when m.sign_operate = -1 then m.item_amt else 0 end) as pay_item_amt,
b.balance as balance
from finbankaccount b
left join finbankstatement m
	on b.account_no = m.account_no
and m.operate_date = $P{adtm_date}
where b.coop_id = $P{as_coopid}
group by
b.account_name,
b.balance
)
order by case when item_desc = 'เงินสด' then 0 else 1 end,
         item_desc]]>
	</queryString>
	<field name="ITEM_DESC" class="java.lang.String"/>
	<field name="CASH_BEGIN" class="java.math.BigDecimal"/>
	<field name="RECV_ITEM_AMT" class="java.math.BigDecimal"/>
	<field name="PAY_ITEM_AMT" class="java.math.BigDecimal"/>
	<field name="BALANCE" class="java.math.BigDecimal"/>
	<variable name="sum_all_beginbal" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{CASH_BEGIN}]]></variableExpression>
	</variable>
	<variable name="sum_all_recv_amt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{RECV_ITEM_AMT}]]></variableExpression>
	</variable>
	<variable name="sum_all_pay_amt" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{PAY_ITEM_AMT}]]></variableExpression>
	</variable>
	<variable name="sum_all_balance" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{BALANCE}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="15" splitType="Stretch">
			<subreport>
				<reportElement uuid="3c6d687f-f561-4d4a-8de9-75ce64623fd1" x="0" y="0" width="555" height="15"/>
				<subreportParameter name="as_coopid">
					<subreportParameterExpression><![CDATA[$P{as_coopid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_reportid">
					<subreportParameterExpression><![CDATA[$P{as_reportid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_entryid">
					<subreportParameterExpression><![CDATA[$P{as_entryid}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="as_reportdetail">
					<subreportParameterExpression><![CDATA["ประจำวันที่ "+new SimpleDateFormat("dd/MM/yyyy",new Locale("th","TH")).format($P{adtm_date})]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "ir_header_portrait.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement uuid="e9dafb91-f621-48f2-9497-27bc6fd14136" x="0" y="0" width="23" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ที่]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="d06d9cd1-390e-4a40-bdcf-df1af97271d9" x="23" y="0" width="142" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[รายการ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="1175c2df-f1b7-45b7-ab25-36a7e2e4d367" x="165" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[ยอดยกมา]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="96de0e69-9487-4e7f-89f5-a024a2a166a6" x="265" y="0" width="95" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[รับ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="81b4d4b1-d861-464f-ab73-591126345b78" x="360" y="0" width="95" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[จ่าย]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="caac7d4d-c5b2-4206-947f-b58609c2378c" x="455" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[คงเหลือ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement uuid="50cbfdd7-1455-4063-a130-2342fdeb4d1f" x="23" y="0" width="142" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ITEM_DESC}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="08c889c4-bfe6-48bc-a670-d71b41dbfd13" x="165" y="0" width="100" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CASH_BEGIN}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="efafdd65-6a75-45e4-a1ae-3983a9b9a6cd" x="265" y="0" width="95" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{RECV_ITEM_AMT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="688bc321-a775-4a53-99cc-2a60b05adf4a" x="360" y="0" width="95" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PAY_ITEM_AMT}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="248ee596-ebbb-4890-84a4-d72c0981727a" x="455" y="0" width="100" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{BALANCE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="f9bb2e85-bbb8-43da-a441-c2a4d86e264a" x="0" y="0" width="23" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="199" splitType="Stretch">
			<staticText>
				<reportElement uuid="c108f69c-8147-4f2e-8dff-4589614b8c5e" x="0" y="0" width="165" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[รวม]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="a29b761c-c88a-4bdc-b6ab-7cbc583dbc58" x="11" y="37" width="39" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[ผู้บันทึก]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="fa9d106d-213d-4c48-859d-3a756e448e86" x="50" y="57" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[(]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="acd96a5b-a7b2-4155-b6b8-dac48a8de7b7" x="161" y="57" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[)]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="96640023-83e7-4f64-bc70-d110549360a3" x="61" y="57" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5" lineStyle="Dotted"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="11280e71-39d6-4be6-b245-c95bfef7e0dd" x="61" y="77" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="d0cc0a60-d85c-4f8c-84b9-c7dc78ad6735" x="381" y="57" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5" lineStyle="Dotted"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="88d4a041-e45b-4894-a7e5-094cc7a094ca" x="370" y="57" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[(]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="287149f1-c8d0-404a-8b37-08c00b47f016" x="481" y="57" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[)]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="6f5414f1-bd2f-4382-9435-408f9b7800c8" x="381" y="77" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="a8b1edcb-8efc-4890-8f02-e4177c76c9be" x="331" y="37" width="39" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[ผู้ตรวจ]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="80bb0654-9ee5-4a10-83d8-7325a3e2414a" x="228" y="169" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="4b42414c-2aa7-4560-8eb6-0ffba779e0e8" x="178" y="129" width="39" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[เหรัญญิก]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e7065aa0-31f4-496d-946e-ab84ec94eec5" x="228" y="149" width="100" height="20"/>
				<box>
					<bottomPen lineWidth="0.5" lineStyle="Dotted"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="9f918ae2-bd75-4045-a614-1ddc23f9975d" x="217" y="149" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[(]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="08f47943-c797-4a79-8852-3d9b74f3e682" x="328" y="149" width="11" height="20"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<text><![CDATA[)]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement uuid="b8213f2c-d2bb-4679-b2d3-ad3671c88db4" x="165" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_all_beginbal}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="51799df7-c288-4ae5-9ebc-3e55cca9b743" x="265" y="0" width="95" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_all_recv_amt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="fea162e9-06e7-4a09-938e-15f58048e7f4" x="360" y="0" width="95" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_all_pay_amt}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement uuid="a91f2fdf-dda8-4b37-9bef-9f51f4460c9a" x="455" y="0" width="100" height="20"/>
				<box>
					<topPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Angsana New" size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{sum_all_balance}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
